<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  <title>canvas上画动态图，视频也可以画</title>


</head>

<body>
<img src="logo192.png" id="img1" alt="">
<canvas id="can" width="800px" height="600px" style="background-color: #CCCCCC">你的浏览器不支持canvas标签</canvas>
</body>
<script type="text/javascript">
  window.onload = function() {
    var img = document.getElementById('img1');
    var can = document.getElementById('can');
    var ctx = can.getContext('2d');

    const drawRepeatImage = (
      ctx,
      image,
      imageWidth,
      imageHeight,
      left, top,
      width, height,
      repeat,
    ) => {
      ctx.save();
      ctx.beginPath();
      ctx.rect(left, top, width, height);
      ctx.clip();
      if (repeat === 'repeat') {
        let rows = Math.ceil(height / imageHeight);
        let cols = Math.ceil(width / imageWidth);
        for (let r = 0; r < rows; r++) {
          for (let c = 0; c < cols; c++) {
            const x = c * imageWidth;
            const y = r * imageHeight;
            ctx.drawImage(image, left + x, top + y, imageWidth, imageHeight);
          }
        }
      } else if (repeat === 'repeat-y') {
        let rows = Math.ceil(height / imageHeight);
        for (let r = 0; r < rows; r++) {
          const y = r * imageHeight;
          ctx.drawImage(image, left, top + y, imageWidth, imageHeight);
        }
      } else if (repeat === 'repeat-x') {
        let cols = Math.ceil(width / imageWidth);
        for (let c = 0; c < cols; c++) {
          const x = c * imageWidth;
          ctx.drawImage(image, left + x, top, imageWidth, imageHeight);
        }
      } else if (repeat === 'no-repeat') {
        ctx.drawImage(image, left, top, imageWidth, imageHeight);
      }
      ctx.restore();
    };

    // drawRepeatImage(ctx, img, 80, 50, -10, -10, 500, 500, 'repeat-y');

    const drawRadiusRect = (ctx, left, top, width, height, radius, clip) => {
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(left + radius, top);
      ctx.lineTo(left + width - radius, top);
      ctx.arcTo(left + width - radius, top, left + width, top + radius, radius);
      ctx.stroke();
      ctx.restore();
    };

    function drawRoundRectPath(ctx, width, height, radius) {
      const [r0, r1, r2, r3] = radius;
      ctx.beginPath();
      //从右下角顺时针绘制，弧度从0到1/2PI
      ctx.arc(width - r0, height - r0, r0, 0, Math.PI / 2);



      //矩形下边线
      ctx.lineTo(r1, height);

      //左下角圆弧，弧度从1/2PI到PI
      ctx.arc(r1, height - r1, r1, Math.PI / 2, Math.PI);
      //
      // //矩形左边线
      // ctx.lineTo(0, r2);
      //
      //左上角圆弧，弧度从PI到3/2PI
      ctx.arc(r2, r2, r2, Math.PI, Math.PI * 3 / 2);
      //
      // //上边线
      // ctx.lineTo(width - r3, 0);
      //
      //右上角圆弧
      ctx.arc(width - r3, r3, r3, Math.PI * 3 / 2, Math.PI * 2);
      //
      // //右边线
      // ctx.lineTo(width, height - r3);
      // ctx.closePath();
    }

    ctx.save();
    ctx.translate(10, 10);
    ctx.lineWidth = 5;
    drawRoundRectPath(ctx, 100, 100, [20, 30, 40, 10]);
    ctx.stroke();
    ctx.restore();

  };
</script>
</html>